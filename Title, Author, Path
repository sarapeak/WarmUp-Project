import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.io.*;
import java.util.*;
public class ReadWebPageTxt
{
    public static void main(String[] args) throws IOException, InterruptedException
    {
       HttpClient client = HttpClient.newHttpClient(); //downloads the webpage
       HttpRequest request = HttpRequest.newBuilder()
            .uri(URI.create("https://www.surlatable.com/mussels-from-brussels/REC-275789.html?cgid=recipes&start=NaN")) //starting URL...
            .GET() // GET is default
            .build();
       HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());
       
       //pull out the author and the path ( Home/Recipes/Desserts/Cakes & Custards/Dark Chocolate and Cherry Clafoutis
            
        //output to a file so its easy to mess with (you wonâ€™t be for your finished program)
        FileOutputStream fs = new FileOutputStream("recipe.txt");
        PrintWriter pw = new PrintWriter(fs);
        pw.println(response.body()); //response.body() is the html source code in a string 
        //format. It outputs to a file so you can see it easier right now, but you will ultimately want to just manipulate the strings a lot
        pw.close();
        
        //use a scanner to go through the text file
        Scanner scan = new Scanner(new FileInputStream("recipe.txt"));
        String authorKey = "recipe-author"; //tell tail for the author 
        String line = "";
        String author;
        
        //String pathKey = 
        String pathKey = "-element\""; // -element>" for all the title
        String title;
        
       while(scan.hasNextLine() && line.indexOf(authorKey)==-1) //exits loop after first author found since appears twice
       {
            line = scan.nextLine();
            if(line.indexOf(authorKey)!=-1)
            {
               author = scan.nextLine(); //save the author as a string variable
               System.out.println(author); //author on line after "recipe-author" found so print that line
            }
                      //line = scan.nextLine();
           if(line.indexOf(pathKey) != -1)
           {
            System.out.println(line.substring(line.lastIndexOf("\">")+2,line.lastIndexOf("<"))); //from these lines need from > to </
           }
       }
         
    }
}
